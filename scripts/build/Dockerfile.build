FROM debian:bookworm-slim

RUN apt-get update && \
    apt-get install -y \
    live-build \
    debootstrap \
    xorriso \
    squashfs-tools \
    git \
    sudo \
    && rm -rf /var/lib/apt/lists/*

# Allow sudo without password for build process
RUN echo "builder ALL=(ALL) NOPASSWD: ALL" >> /etc/sudoers

WORKDIR /workspace

CMD ["/bin/bash"]

